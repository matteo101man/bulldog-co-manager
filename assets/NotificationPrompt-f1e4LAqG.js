import{r as s,j as e}from"./react-vendor-C8iBsMnn.js";import{i as u,g as f,r as g}from"./index-DKB6D4ej.js";import"./vendor-C6jWcdt9.js";import"./firebase-vendor-u2jlvS72.js";function y(){const[m,i]=s.useState(!1),[o,n]=s.useState(!1),[a,r]=s.useState(!1);s.useEffect(()=>{if(!u())return;const t=localStorage.getItem("notificationPromptDismissed");if(t&&(Date.now()-parseInt(t))/864e5<7){r(!0);return}if(f()==="default"&&!a){const c=setTimeout(()=>{i(!0)},2e3);return()=>clearTimeout(c)}},[a]);async function d(){n(!0);try{await g(),i(!1),alert("Notifications enabled! You will now receive push notifications.")}catch(t){console.error("Error enabling notifications:",t),alert(`Could not enable notifications: ${t instanceof Error?t.message:"Unknown error"}`)}finally{n(!1)}}function l(){i(!1),r(!0),localStorage.setItem("notificationPromptDismissed",Date.now().toString())}return m?e.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 safe-area-inset-bottom",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Enable Notifications"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Get notified about important updates and announcements from Bulldog CO Manager."})]}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 ml-2","aria-label":"Dismiss",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:d,disabled:o,className:`flex-1 py-2 px-4 rounded-md text-sm font-medium text-white touch-manipulation min-h-[44px] ${o?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:bg-blue-800"}`,children:o?"Enabling...":"Enable Notifications"}),e.jsx("button",{onClick:l,className:"py-2 px-4 rounded-md text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 touch-manipulation min-h-[44px]",children:"Not Now"})]})]})}):null}export{y as default};
