import{r as i,j as e}from"./react-vendor-C8iBsMnn.js";import"./vendor-C6jWcdt9.js";const f="expenseRequestForm",P=()=>({name:"",dateOfRequest:"",position:"",vendor:"",purposeOfExpense:"",paymentMethod:"",items:[""],totalExpectedExpenses:"",budgetCategory:"",allottedBudget:"",additionalComments:"I, __________, understand and acknowledge that reimbursement for expenses is contingent upon following the established process, including obtaining proper approvals and submitting the necessary documentation. I also accept that failure to comply with these requirements or discrepancies between requested and actual expenses may result in denial of reimbursement or reimbursement limited to the amount requested.",acknowledged:!1});function D({onBack:v}){const o=i.useRef(null),[a,c]=i.useState(P()),[y,j]=i.useState(!1);i.useEffect(()=>{localStorage.removeItem(f)},[]),i.useEffect(()=>()=>{localStorage.removeItem(f)},[]);function s(t,r){c(n=>({...n,[t]:r}))}function C(){c(t=>({...t,items:[...t.items,""]}))}function E(t){c(r=>({...r,items:r.items.filter((n,l)=>l!==t)}))}function k(t,r){c(n=>({...n,items:n.items.map((l,m)=>m===t?r:l)}))}async function _(){if(o.current){j(!0);try{const t=d=>new Promise((w,R)=>{if(document.querySelector(`script[src="${d}"]`)){w();return}const u=document.createElement("script");u.src=d,u.onload=()=>w(),u.onerror=()=>R(new Error(`Failed to load ${d}`)),document.head.appendChild(u)});await Promise.all([t("https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"),t("https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js")]),await new Promise(d=>setTimeout(d,200));const r=window.html2canvas,{jsPDF:n}=window.jspdf;window.scrollTo(0,0),o.current.scrollIntoView({behavior:"instant",block:"start"});const l=await r(o.current,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",windowWidth:o.current.scrollWidth,windowHeight:o.current.scrollHeight,allowTaint:!1,removeContainer:!1}),m=l.toDataURL("image/png"),p=new n({orientation:"portrait",unit:"mm",format:"a4"}),g=210,N=297,h=l.height*g/l.width;let x=h,b=0;for(p.addImage(m,"PNG",0,b,g,h),x-=N;x>=0;)b=x-h,p.addPage(),p.addImage(m,"PNG",0,b,g,h),x-=N;p.save("expense-request-form.pdf")}catch(t){console.error("Error generating PDF:",t),alert("Error generating PDF. Please try again.")}finally{j(!1)}}}function I(){localStorage.removeItem(f),v()}return e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-safe-area-inset-bottom",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 safe-area-inset-top",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Expense Request Form"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:_,className:"text-sm text-blue-600 font-medium touch-manipulation px-2",style:{minHeight:"44px",minWidth:"44px"},children:"Save"}),e.jsx("button",{onClick:I,className:"text-sm text-blue-600 font-medium touch-manipulation",style:{minHeight:"44px",minWidth:"44px"},children:"Back"})]})]})}),e.jsx("main",{className:"px-4 py-4",children:e.jsxs("div",{ref:o,className:"bg-white p-6 max-w-4xl mx-auto shadow-sm border border-gray-300",style:{fontFamily:"Arial, sans-serif",overflow:"visible"},children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-2",style:{fontSize:"28px"},children:"Expense Request Form"}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("p",{className:"font-bold text-sm mb-1",children:"***DOWNLOAD A COPY TO MAKE EDITS ***"}),e.jsx("p",{className:"font-bold text-sm",children:"*** RECEIPTS MUST BE PROVIDED***"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("table",{className:"w-full border-collapse border border-gray-300",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-2 font-semibold",style:{width:"15%"},children:"Name:"}),e.jsx("td",{className:"border border-gray-300 p-2",style:{width:"35%"},children:e.jsx("input",{type:"text",value:a.name,onChange:t=>s("name",t.target.value),placeholder:"Isabella Navarro",className:"w-full border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"})}),e.jsx("td",{className:"border border-gray-300 p-2 font-semibold",style:{width:"20%"},children:"Date of Request:"}),e.jsx("td",{className:"border border-gray-300 p-2",style:{width:"30%"},children:e.jsx("input",{type:"text",value:a.dateOfRequest,onChange:t=>s("dateOfRequest",t.target.value),placeholder:"12/1/25",className:"w-full border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-2 font-semibold",children:"Position:"}),e.jsx("td",{className:"border border-gray-300 p-2",children:e.jsx("input",{type:"text",value:a.position,onChange:t=>s("position",t.target.value),placeholder:"Military Ball OIC",className:"w-full border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"})}),e.jsx("td",{className:"border border-gray-300 p-2 font-semibold",children:"Vendor:"}),e.jsx("td",{className:"border border-gray-300 p-2",children:e.jsx("input",{type:"text",value:a.vendor,onChange:t=>s("vendor",t.target.value),placeholder:"Botanical Gardens",className:"w-full border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-2 font-semibold",children:"Purpose of Expense:"}),e.jsx("td",{colSpan:3,className:"border border-gray-300 p-2",children:e.jsx("input",{type:"text",value:a.purposeOfExpense,onChange:t=>s("purposeOfExpense",t.target.value),placeholder:"Venue Rental",className:"w-full border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"})})]})]})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Method of Payment (Check one):"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.paymentMethod==="cadet-fund-card",onChange:t=>{t.target.checked?s("paymentMethod","cadet-fund-card"):s("paymentMethod","")},className:"w-4 h-4"}),e.jsx("span",{children:"Cadet Fund Card"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.paymentMethod==="reimbursement-check",onChange:t=>{t.target.checked?s("paymentMethod","reimbursement-check"):s("paymentMethod","")},className:"w-4 h-4"}),e.jsx("span",{children:"Reimbursement Check"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Itemized List of Expenses:"}),e.jsx("div",{className:"space-y-2",children:a.items.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"•"}),e.jsx("input",{type:"text",value:t,onChange:n=>k(r,n.target.value),placeholder:r===0?"Conservatory Great room and Gardenside":"Enter expense item",className:"flex-1 border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"}),!y&&a.items.length>1&&e.jsx("button",{onClick:()=>E(r),className:"text-red-600 font-bold text-lg px-2 touch-manipulation",style:{minHeight:"44px",minWidth:"44px"},children:"−"}),!y&&r===a.items.length-1&&e.jsx("button",{onClick:C,className:"text-blue-600 font-bold text-lg px-2 touch-manipulation",style:{minHeight:"44px",minWidth:"44px"},children:"+"})]},r))})]}),e.jsx("div",{className:"mb-4",children:e.jsx("table",{className:"w-full border-collapse border border-gray-300",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-2 font-semibold",children:"Total Expected Expenses (Include tax):"}),e.jsx("td",{className:"border border-gray-300 p-2",children:e.jsx("input",{type:"text",value:a.totalExpectedExpenses,onChange:t=>s("totalExpectedExpenses",t.target.value),placeholder:"$2,500",className:"w-full border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-2 font-semibold",children:"Budget Category (Review the Budget List in Teams):"}),e.jsx("td",{className:"border border-gray-300 p-2",children:e.jsx("input",{type:"text",value:a.budgetCategory,onChange:t=>s("budgetCategory",t.target.value),placeholder:"Mil Ball",className:"w-full border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-2 font-semibold",children:"Allotted Budget:"}),e.jsx("td",{className:"border border-gray-300 p-2",children:e.jsx("input",{type:"text",value:a.allottedBudget,onChange:t=>s("allottedBudget",t.target.value),placeholder:"$10,000",className:"w-full border-0 outline-none bg-transparent placeholder:text-gray-400 text-gray-900"})})]})]})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Additional Comments:"}),e.jsx("textarea",{value:a.additionalComments,onChange:t=>s("additionalComments",t.target.value),className:"w-full border-0 outline-none bg-transparent p-2 min-h-[100px] resize-none text-gray-900",style:{whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word"},placeholder:"I, __________, understand and acknowledge..."})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.acknowledged,onChange:t=>s("acknowledged",t.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:"Check to Acknowledge"})]})}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"border-b-2 border-gray-900 mb-1",style:{minHeight:"50px"}}),e.jsx("p",{className:"text-sm",children:"Battalion Commander Signature"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"border-b-2 border-gray-900 mb-1",style:{minHeight:"50px"}}),e.jsx("p",{className:"text-sm",children:"Battalion S8 Finance Officer Signature"})]})]})]})})]})}export{D as default};
